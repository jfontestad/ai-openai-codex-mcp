# config/config.yaml.example
# This file is a sample. In production, copy and edit it,
# then place it at the default path (macOS/Linux: ~/.config/openai-responses-mcp/config.yaml,
# Windows: %APPDATA%\openai-responses-mcp\config.yaml) or
# specify it explicitly with CLI --config.
#
# Priority: CLI > ENV > YAML > TS defaults (arrays are replaced, objects are deep merged)

openai:
  # Environment variable name for authentication. Typically use OPENAI_API_KEY and don't write keys in YAML.
  api_key_env: OPENAI_API_KEY
  # OpenAI API base URL
  base_url: https://api.openai.com/v1

request:
  # Timeout (milliseconds)
  timeout_ms: 300000
  # Automatic retry count (429/5xx/AbortError)
  max_retries: 3

# Multi-profile configuration
# Provides three tool profiles for different use cases
model_profiles:
  # Required base profile (startup error if not configured)
  answer:
    model: gpt-5
    reasoning_effort: medium
    verbosity: medium

  # Optional detailed analysis profile (falls back to answer if not configured)
  answer_detailed:
    model: gpt-5
    reasoning_effort: high
    verbosity: high

  # Optional quick response profile (falls back to answer if not configured)
  answer_quick:
    model: gpt-5-mini
    reasoning_effort: low
    verbosity: low

# Minimal configuration example: configure only answer to use same settings for all tools
# model_profiles:
#   answer:
#     model: gpt-5
#     reasoning_effort: medium
#     verbosity: medium
# # answer_detailed, answer_quick are omitted -> operates with answer settings

policy:
  # Whether to prioritize search when uncertain (prevents missing current events)
  prefer_search_when_unsure: true
  # Maximum number of citations (1-10 recommended)
  max_citations: 3
  # Require ISO date format (YYYY-MM-DD) in citations
  require_dates_iso: true
  # Enable the following to use external file for System Policy
  # system:
  #   source: file
  #   path: ~/.config/openai-responses-mcp/policy.md
  #   merge: append   # replace | prepend | append

search:
  defaults:
    # Article freshness guideline (days)
    recency_days: 60
    # Results count hint (actual usage is model decision)
    max_results: 5
    # Preferred domains (empty array for no restrictions)
    domains: []

server:
  # Transport type. Currently only stdio is implemented.
  transport: stdio
  # Debug (detailed logging): CLI/ENV/YAML are equivalent (priority: CLI > ENV > YAML)
  # - CLI: --debug / --debug <path>
  # - ENV: DEBUG=1|true|<path>
  # - YAML: server.debug: true (optionally server.debug_file: <path>)
  debug: false
  # When path is specified, TEE mirror stderr to file
  debug_file: null
  # Display summary of effective settings to stderr on startup
  show_config_on_start: false
